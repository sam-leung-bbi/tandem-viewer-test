<header>
    <script src="https://tandem-stg.autodesk.com/viewer/viewer3D.js"></script>
    <link href="https://tandem-stg.autodesk.com/viewer/style.min.css" rel="stylesheet" type="text/css">
</header>
<h4> Tandem | Hello World Demo</h4>
<hr>
<button onclick="redirect()" class="btn btn-lg btn-default" id="autodeskSigninButton">
    <img src="https://github.com/Autodesk-Forge/learn.forge.viewhubmodels/raw/master/img/autodesk_text.png"
      height="20"> Sign in
  </button>

  <div id="viewer" style="border:1px solid; height: 400px; width: 100%;"></div>


<script>
    async function redirect() {
        if (window.sessionStorage.token) {
            logout();
            return;
        }

        const redirecturl = await (await fetch('/oauth/url')).text();
        location.href = redirecturl;
    }

    async function logout() {
        delete(window.sessionStorage.token);
        fetch('/oauth/logout');
        window.location.reload();
    }

</script>
<script type="module" src="viewer.mjs" ></script>
